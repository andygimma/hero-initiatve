<h1>Map</h1>
<div id="map"></div>

<script>
var map = L.map('map').setView([51.505, -0.09], 13);
var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
var osmAttrib='Map data Â© OpenStreetMap contributors';
var osm = new L.TileLayer(osmUrl, {minZoom: 0, maxZoom: 12, attribution: osmAttrib});           

// start the map in South-East England
map.setView(new L.LatLng(40.7, -73.9),10);
map.addLayer(osm);
<% @locations.each do |location| %>
L.marker([<%= location.latitude%>, <%=location.longitude%>]).addTo(map)
    .bindPopup('<%=location.name%>')
    .openPopup();
<%end%>
</script>
